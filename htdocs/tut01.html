<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>izfree Tutorial 1: The Basics</TITLE>
</HEAD>
<BODY>

<H3>[ <A HREF="http://sourceforge.net/">SourceForge.net</A>
| <A HREF="http://sourceforge.net/projects/izfree/">Project</A>
| <A HREF="http://izfree.sourceforge.net/">izfree</A>
| <A HREF="tutorial.html">Tutorials</A>
| Tutorial 1 ]</H3>

<H3>Tutorial 1: The Basics</H3>

<P>This tutorial installs the 'zoom.exe' console application and its
associated manual page file 'ZOOM.TXT'.  The files are copied onto the
target machine and nothing more.</P>

<P>Zoom is a simple console <A HREF=
"http://www.xmission.com/~legalize/zoom.html">program for resizing image
files</A>.  It is <A HREF=
"ftp://ftp.xmission.com/pub/users/l/legalize/graphics/zoom.zip">available
as a ZIP file</A> containing the two files mentioned above.</P>

<OL>
<LI><P>Create the source/target directory structure.</P>

<P>Windows Installer allows the source directory structure and the
target directory structure to have a different arrangement of
subdirectories.  To simplify the situation, izfree assumes that the
target directory structure will be identical to the source directory
structure.  This can be changed later with Orca and knowledge of the
Directory table in the MSI database.</P>

<P>Create a new directory somewhere on your machine and copy the files
and subdirectories into the new directory as they should be arranged
on the target machine.  We'll call this the 'build directory'.
For zoom, make a local directory called
'<CODE>c:\tmp\zoom</CODE>' and copy <CODE>zoom.exe</CODE> and
<CODE>ZOOM.TXT</CODE> inside.</P>

<LI><P>Launch izfree.</P>
<LI><P>Select the 'New Package' tool.</P>
<LI><P>Fill out the form for the new package.  You can browse for the
database templates or the output database by clicking the '...'
buttons to the right of the input fields.  For the product code,
package guid and upgrade code, you can click the 'New' buttons to
generate new GUIDs for these fields.  If you are re-creating an
existing package or upgrading an existing package, then you should
enter the appropriate GUIDs in the necessary fields.</P>

<P>Don't place the MSI database in the build directory unless you want
the MSI database installed with the product.  Since this is typically
not necessary or desirable, its best to place the MSI database in
another location.  We'll put it in '<CODE>c:\tmp</CODE>'.</P>

<P>When you have finished entering the data, your form should look
like this (but with different GUIDs):</P>

<P><A HREF="images/tut01.png"><IMG WIDTH=400 HEIGHT=300
SRC="images/tut01.png.jpg"></A></P>

<LI><P>Select the 'New Package' tool to create a new package from
the database templates.  The output database now contains a complete
blank database that will pass all internal consistency evaluators
(ICEs) published with the MSI SDK.  You can open the database in Orca
and examine the blank database if you wish.</P>

<LI><P>Select the 'New Components' tool.  Enter the filename of the
database you created in the previous step as the output database.
This is the database to which the new components will be written.
Enter the directory containing your target directory layout.  In this
example, the build directory '<CODE>c:\tmp\zoom</CODE>' is
entered.</P>

<LI><P>Click the 'Scan' button.  A tree view of the components created
from the scanned directory is shown on the lower left.  Selecting an
item in the tree view displays its corresponding source and target
directories on the right.</P>

<P><A HREF="images/tut02.png"><IMG WIDTH=400 HEIGHT=300
SRC="images/tut02.png.jpg"></A></P>

<P>You can edit the names of the components (but not the files) by
clicking the label in the tree view.  Clicking the label the first
time selects the label.  Pause briefly and click the label again and
it will change to an edit box, allowing you to enter a new component
name.</P>

<P><A HREF="images/tut03.png"><IMG WIDTH=400 HEIGHT=300
SRC="images/tut03.png.jpg"></A></P>

<LI><P>Click the 'Save' button to save the new components to the named
database.</P>

<LI><P>izfree creates an installation that expects the source
directory structure at the same level as the MSI file.  Move the MSI
file from where you created it into the build directory.  In this
case, we move '<CODE>zoom.msi</CODE>' from '<CODE>c:\tmp</CODE>' to
'<CODE>c:\tmp\zoom</CODE>'.</P>

<P>Your install is now complete and ready to use!</P>
</OL>

<HR><UL>
<LI>Tutorial 1: The Basics
<LI><A HREF="tut02.html">Tutorial 2: Remove Unnecessary Dialogs</A>
<LI><A HREF="tut03.html">Tutorial 3: Adding a Shortcut</A>
<LI><A HREF="tut04.html">Tutorial 4: Initializing TARGETDIR</A>
</UL>

</BODY>
</HTML>

